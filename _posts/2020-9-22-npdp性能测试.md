1. 测试报告参阅svn中的doc

# 测试范例
4core_2port

## 测试命令
./npdp -c 0x554 -- -f ./json/4core_2port.json -c ./cli/4core_2port.cli

## -c 0x554
代表程序调用的核心，使用逻辑CPU绝对序号与掩码的方式表示。
`lscpu`
`cat /proc/cmdline`
其中声明占用的`FE核`，在具体运行时都是调用1个CE核（默认是0号核，该核不必进行cpu隔离），在本测试例中调用4个FE核

## --
用于分开DPDK程序标识符与seasw1.0程序标识符
前面的标识符由DPDK程序文档指定
后面的标识符由seasw1.0程序设计指定

## -f ./json/4core_2port.json
代表调用的json配置文件，其中包含mempool, link, pipeline信息
具体参数信息查询svn中npdp程序的doc文件即可
4core_2port.json
```
{
	"mempool" : [
		{
			"name" : "MEMPOOL0",
			"buffer" : 2304,
			"pool" : 8192,
			"cache" : 256,
			"cpu" : 0
		}
	],

	"link" : [
		{
			"name" : "LINK0",   //设备名
			"dev" : "0000:3b:00.0", //设备号
			"port_id" : null,
			"rxq" : [2, 256],   //因为有rss分流，所以有两个收包队列
			"mempool" : "MEMPOOL0",
			"txq" : [2, 512],   //因为有rss分流，所以有两个收包队列
			"promiscuous" : "on",
			"rss" : [0, 1]  //rss分流
		},
		{
			"name" : "LINK1",
			"dev" : "0000:3b:00.1",
			"port_id" : null,
			"rxq" : [2, 256],
			"mempool" : "MEMPOOL0",
			"txq" : [2, 512],
			"promiscuous" : "on",
			"rss" : [0, 1]
		}
	],

	"pipeline" : [
		{
			"name" : "p0_0",
			"cpu" : 0,
			"counter" : 20,
			"iblocks" : 100,
			"timer_period_ms" : 1,

			"port_in" : [
				{
					"type" : 0, 
					"name" : "LINK0",   //从网卡link0收包
					"rxq" : 0,  //收包队列
					"burst_size" : 32, 
					"enabled" : true
				}
			],
        

			"port_out" : [
				{
					"type" : 0,
					"name" : "LINK0", 
					"txq" : 0,
					"burst_size" : 32,
					"retry" : 0,
					"n_retries" : 0
				},
                {
                    "type" : 0,
                    "name" : "LINK1",
                    "txq" : 0,
                    "burst_size" : 32,
                    "retry" : 0,
                    "n_retries" : 0
                }
			]
		},
		{
			"name" : "p0_1",
			"cpu" : 0,
			"counter" : 20,
			"iblocks" : 100,
			"timer_period_ms" : 1,

			"port_in" : [
				{
					"type" : 0, 
					"name" : "LINK0", 
					"rxq" : 1,  //rss分流，从1号队列收包
					"burst_size" : 32, 
					"enabled" : true
				}
			],

			"port_out" : [
                {
                    "type" : 0,
                    "name" : "LINK0",
                    "txq" : 1,  //rss分流，从1号队列发包
                    "burst_size" : 32,
                    "retry" : 0,
                    "n_retries" : 0
                },
                {
					"type" : 0,
					"name" : "LINK1",
					"txq" : 1,  //rss分流，从1号队列发包
					"burst_size" : 32,
					"retry" : 0,
					"n_retries" : 0
				}
			]
		},
		{
			"name" : "p1_0",
			"cpu" : 0,
			"counter" : 20,
			"iblocks" : 100,
			"timer_period_ms" : 1,

			"port_in" : [
				{
					"type" : 0, 
					"name" : "LINK1", 
					"rxq" : 0,
					"burst_size" : 32, 
					"enabled" : true
				}
			],

			"port_out" : [
                {
                    "type" : 0,
                    "name" : "LINK0",
                    "txq" : 0,
                    "burst_size" : 32,
                    "retry" : 0,
                    "n_retries" : 0
                },
                {
					"type" : 0,
					"name" : "LINK1", 
					"txq" : 0,
					"burst_size" : 32,
					"retry" : 0,
					"n_retries" : 0
				}
			]
		},
		{
			"name" : "p1_1",
			"cpu" : 0,
			"counter" : 20,
			"iblocks" : 100,
			"timer_period_ms" : 1,

			"port_in" : [
				{
					"type" : 0, 
					"name" : "LINK1", 
					"rxq" : 1,
					"burst_size" : 32, 
					"enabled" : true
				}
			],

			"port_out" : [
                {
                    "type" : 0,
                    "name" : "LINK0",
                    "txq" : 1,
                    "burst_size" : 32,
                    "retry" : 0,
                    "n_retries" : 0
                },
                {
					"type" : 0,
					"name" : "LINK1", 
					"txq" : 1,
					"burst_size" : 32,
					"retry" : 0,
					"n_retries" : 0
				}
			]
		}
	]
}
```

## -c ./cli/4core_2port.cli
指令批处理文件，用于快捷操作，进行pipeline的bin文件绑定与core绑定，其中list pipeline, list thread命令可以查看状态
以下命令也可以手动输入，但比较费劲
./cli/4core_2port.cli
```
load pipeline p0_0 bin ./bin/output0.bin    //绑定bin文件，从0口反射
load pipeline p0_1 bin ./bin/output0.bin
load pipeline p1_0 bin ./bin/output1.bin    //不同的pipeline依照反射转发策略，绑定bin文件，从1口反射
load pipeline p1_1 bin ./bin/output1.bin
start pipeline p0_0 thread 0    //绑定核，其中的核号是相对值，依次递增即可
start pipeline p0_1 thread 1
start pipeline p1_0 thread 2
start pipeline p1_1 thread 3
list pipeline
```